<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SpaceTime Online Kitchen</title>
  <!-- Font Awesome for icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
  />
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0 20px;
      background: #f9f9f9;
      color: #333;
    }
    nav {
      margin: 20px 0;
    }
    nav a.button {
      background-color: #007bff;
      color: white;
      padding: 10px 15px;
      margin-right: 10px;
      text-decoration: none;
      border-radius: 5px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-weight: bold;
    }
    nav a.button:hover {
      background-color: #0056b3;
    }
    .welcome-section {
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      text-align: center;
    }
    .stats-grid {
      display: flex;
      gap: 20px;
      justify-content: center;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }
    .stat-card {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      width: 250px;
      text-align: center;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    .stat-card .circle {
      width: 80px;
      height: 80px;
      margin: 0 auto 15px auto;
      border-radius: 50%;
      background: #e2e6ea;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .stat-card img {
      max-width: 50px;
      max-height: 50px;
    }
    .home-page-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
      flex-wrap: wrap;
      gap: 20px;
    }
    .mission-statement {
      flex: 1 1 400px;
    }
    .mission-statement h2 {
      margin-bottom: 10px;
    }
    .wrapper {
      display: flex;
      font-weight: bold;
      font-size: 1.2em;
      margin-top: 15px;
    }
    .static-txt {
      margin-right: 5px;
    }
    .dynamic-txt {
      color: #007bff;
    }
    .img-wrapper {
      flex: 1 1 200px;
      text-align: center;
    }
    .img-wrapper img {
      max-width: 150px;
      border-radius: 10px;
    }
    .newsletter-announcement {
      background: #007bff;
      color: white;
      text-align: center;
      padding: 25px;
      border-radius: 10px;
      margin-bottom: 40px;
    }
    .newsletter-announcement button.button {
      background-color: #0056b3;
      border: none;
      cursor: pointer;
      padding: 10px 20px;
      font-size: 1em;
      border-radius: 5px;
      color: white;
      margin-top: 15px;
    }
    .newsletter-announcement button.button:hover {
      background-color: #003d80;
    }
    .random-recipe-container {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      max-width: 600px;
      margin: 0 auto 60px;
      text-align: center;
    }
    .random-recipe-container img.recipe-image {
      max-width: 100%;
      border-radius: 10px;
      margin: 15px 0;
    }
    .recipe-link {
      display: inline-block;
      margin-top: 15px;
      background: #007bff;
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
    }
    .recipe-link:hover {
      background: #0056b3;
    }
    footer {
      text-align: center;
      padding: 15px 0;
      background: #222;
      color: white;
      font-size: 0.9em;
    }
    /* Modal styles */
    .overlay-container {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .popup-box {
      background: white;
      padding: 30px 20px;
      border-radius: 8px;
      max-width: 400px;
      width: 90%;
      position: relative;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      text-align: center;
    }
    .close-modal {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      font-size: 1.8rem;
      cursor: pointer;
      color: #333;
    }
    .form-input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    .button {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1em;
    }
    .button:hover {
      background-color: #0056b3;
    }
    #subscriptionMessage {
      color: green;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <nav>
    <a href="Events.html" class="button"><i class="fas fa-calendar-alt"></i> Events</a>
    <a href="Contact.html" class="button"><i class="fas fa-envelope"></i> Contact</a>
    <a href="index2.html" class="button"><i class="fas fa-sign-in-alt"></i> Login</a>
  </nav>

  <main>
    <section class="welcome-section">
      <h1>Welcome to SpaceTime Online Kitchen!</h1>
      <p>Your one-stop online community for food lovers and culinary creatives. Connect, share, and learn new recipes and techniques.</p>
      <p>Discover how cooking brings people together, whether you're a beginner or a pro.</p>
    </section>

    <section class="stats-grid">
      <div class="stat-card">
        <div class="circle">
          <img src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" alt="Cooking icon" />
        </div>
        <h3>Recipe Collection</h3>
        <p>Access over 10,000 recipes and grow your culinary skills.</p>
      </div>
      <div class="stat-card">
        <div class="circle">
          <img src="https://cdn-icons-png.flaticon.com/512/2921/2921222.png" alt="Events icon" />
        </div>
        <h3>Community Events</h3>
        <p>Join virtual and in-person events, workshops, and cooking classes.</p>
      </div>
      <div class="stat-card">
        <div class="circle">
          <img src="https://cdn-icons-png.flaticon.com/512/1055/1055672.png" alt="Career icon" />
        </div>
        <h3>Career Development</h3>
        <p>Assisted 500+ members in launching culinary careers.</p>
      </div>
    </section>

    <div class="home-page-top">
      <div class="mission-statement">
        <h2>Our Mission</h2>
        <p>SpaceTime Online Kitchen is dedicated to fostering a supportive, inclusive, and innovative culinary community. We believe cooking is an art and science that unites people from all walks of life.</p>
        <p>Our goal is to provide accessible resources, share knowledge, and inspire culinary creativity for everyone, from beginners to seasoned chefs.</p>
        <div class="wrapper">
          <div class="static-txt">SpaceTime is all about</div>
          <div class="dynamic-txt"></div>
        </div>
      </div>
      <div class="img-wrapper">
        <img src="https://cdn-icons-png.flaticon.com/512/1046/1046790.png" alt="Chef Hat" id="dynamicImage" />
      </div>
    </div>

    <section class="newsletter-announcement">
      <h2>Subscribe to Our Newsletter</h2>
      <p>Get weekly recipes, tips, and event updates delivered to your inbox!</p>
      <button id="subscribeBtn" class="button">Subscribe</button>
    </section>

    <section class="random-recipe-container" aria-label="Random Recipe of the Day">
      <h2>Random Recipe of the Day</h2>
      <div id="recipeContent">
        <p>Loading a delicious recipe for you...</p>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 SpaceTime Online Kitchen. All rights reserved.</p>
  </footer>

  <!-- Modal Popup -->
  <div
    id="modalOverlay"
    class="overlay-container"
    role="dialog"
    aria-modal="true"
    aria-labelledby="modalTitle"
    aria-describedby="modalDesc"
  >
    <div class="popup-box">
      <button
        class="close-modal"
        aria-label="Close modal"
        onclick="closeModal()"
      >
        &times;
      </button>
      <h2 id="modalTitle">Subscribe to Our Newsletter</h2>
      <p id="modalDesc">Enter your email to stay updated!</p>
      <form id="subscriptionForm" class="form-container" onsubmit="handleSubscription(event)">
        <input
          type="email"
          placeholder="Enter your email"
          id="emailInput"
          class="form-input"
          required
          aria-required="true"
        />
        <button type="submit" class="button">Subscribe</button>
      </form>
      <p id="subscriptionMessage" role="alert" style="display:none;"></p>
    </div>
  </div>

  <script>
    // Newsletter Popup Handling
    const subscribeBtn = document.getElementById("subscribeBtn");
    const modalOverlay = document.getElementById("modalOverlay");
    const subscriptionForm = document.getElementById("subscriptionForm");
    const subscriptionMessage = document.getElementById("subscriptionMessage");

    subscribeBtn.addEventListener("click", () => {
      modalOverlay.style.display = "flex";
    });

    function closeModal() {
      modalOverlay.style.opacity = "1";
      modalOverlay.style.transition = "opacity 0.3s";
      modalOverlay.style.opacity = "0";
      setTimeout(() => {
        modalOverlay.style.display = "none";
        subscriptionMessage.style.display = "none";
        subscriptionForm.style.display = "block";
        subscriptionForm.reset();
      }, 300);
    }

    function handleSubscription(event) {
      event.preventDefault();
      const email = document.getElementById("emailInput").value.trim();
      if (!email.includes("@")) {
        alert("Please enter a valid email.");
        return;
      }
      subscriptionForm.style.display = "none";
      subscriptionMessage.textContent =
      subscriptionMessage.textContent = `Thank you for subscribing, ${email}!`;
      subscriptionMessage.style.display = "block";
      setTimeout(closeModal, 3000);
    }

    // Dynamic Text for Mission Section
    const dynamicTxt = document.querySelector(".dynamic-txt");
    const texts = [
      "community",
      "creativity",
      "innovation",
      "diversity",
      "learning",
      "friendship",
      "growth",
      "fun",
    ];
    let index = 0;
    setInterval(() => {
      dynamicTxt.textContent = texts[index];
      index = (index + 1) % texts.length;
    }, 2000);

    // Random Recipe of the Day - Spoonacular API Fetch
    const apiKey = "9763a54062e54976b598844e0d628e70"; // Replace with your own key if needed
    async function fetchRandomRecipe() {
      const recipeContent = document.getElementById("recipeContent");
      try {
        const response = await fetch(
          `https://api.spoonacular.com/recipes/random?apiKey=${apiKey}&number=1`
        );
        if (!response.ok) {
          throw new Error("Failed to fetch recipe");
        }
        const data = await response.json();
        if (data.recipes && data.recipes.length > 0) {
          const recipe = data.recipes[0];
          recipeContent.innerHTML = `
            <h3 class="recipe-title">${recipe.title}</h3>
            <img src="${recipe.image}" alt="${recipe.title}" class="recipe-image" />
            <p class="recipe-summary">${recipe.summary.replace(/<[^>]+>/g, "")}</p>
            <a href="${recipe.sourceUrl}" target="_blank" rel="noopener" class="recipe-link">View Full Recipe</a>
          `;
        } else {
          recipeContent.innerHTML = "<p>No recipes found.</p>";
        }
      } catch (error) {
        recipeContent.innerHTML = "<p>Sorry, we couldn't load a recipe at this time. Please try again later.</p>";
        console.error("Error fetching recipe:", error);
      }
    }

    window.addEventListener("load", fetchRandomRecipe);
  </script>
</body>
</html>
